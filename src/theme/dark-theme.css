/* src/theme/dark-theme.css */
/* 深色主题 CSS 变量定义 */

/**
 * 深色主题变量定义（默认主题）
 * 当 html 元素有 .dark-theme 类或无主题类时应用
 */
:root,
:root.dark-theme {
  /* ===== 背景色系统 - Dark Mode ===== */
  --bg-app: #0f172a;       /* Slate 900 - 主内容区背景 */
  --bg-sidebar: #0a0f1a;   /* 侧边栏背景色（更深） */
  --bg-titlebar: #020617;  /* Slate 950 - 标题栏背景（最深） */
  --bg-card: #1e293b;      /* Slate 800 - 卡片容器背景 */
  --bg-input: #334155;     /* Slate 700 - 输入框背景 */
  --bg-secondary: #1e293b; /* Slate 800 - 次要背景 */

  /* ===== 边框色 ===== */
  --border-subtle: #334155; /* Slate 700 - 微妙的边框 */
  --border-focus: #3b82f6;  /* Blue 500 - 焦点边框 */

  /* ===== 文本色系统 ===== */
  --text-main: #f8fafc;     /* Slate 50 - 主文本 */
  --text-muted: #94a3b8;    /* Slate 400 - 次要文本 */
  --text-primary: var(--text-main);
  --text-secondary: var(--text-muted);
  --text-tertiary: #64748b; /* Slate 500 - 三级文本 */

  /* ===== 品牌色 ===== */
  --primary: #3b82f6;       /* Blue 500 - 主品牌色 */
  --primary-hover: #2563eb; /* Blue 600 - 悬浮态 */
  --accent: #38bdf8;        /* Sky 400 - 强调色 */

  /* ===== 状态色 ===== */
  --success: #10b981;       /* Emerald 500 - 成功绿 */
  --error: #ef4444;         /* Red 500 - 错误红 */
  --warning: #eab308;       /* Yellow 500 - 警告黄 */

  /* ===== 检测窗口专用色 - 更柔和 ===== */
  --success-soft: rgba(16, 185, 129, 0.15);
  --error-soft: rgba(239, 68, 68, 0.15);
  --warning-soft: rgba(234, 179, 8, 0.15);
  --pending-soft: rgba(148, 163, 184, 0.15);

  /* ===== 交互色系统 ===== */
  --hover-overlay: rgba(255, 255, 255, 0.1);         /* 悬浮叠加层（深色主题用白色透明） */
  --hover-overlay-subtle: rgba(255, 255, 255, 0.05); /* 微妙悬浮效果 */
  --button-hover-overlay: rgba(255, 255, 255, 0.08); /* 按钮悬浮叠加 */

  /* ===== 特殊文本色 ===== */
  --text-on-primary: #ffffff;    /* 主色背景上的文本 */
  --text-on-error: #ffffff;      /* 错误色背景上的文本 */
  --text-on-muted: #ffffff;      /* 次要色背景上的文本 */
  --text-disabled: rgba(248, 250, 252, 0.4); /* 禁用文本 */

  /* ===== 阴影系统 - Dark Mode 更柔和 ===== */
  --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
                 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  --shadow-float: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
                  0 4px 6px -2px rgba(0, 0, 0, 0.2);
  --shadow-modal: 0 20px 25px -5px rgba(0, 0, 0, 0.3),
                  0 10px 10px -5px rgba(0, 0, 0, 0.2);

  /* ===== 色彩方案 ===== */
  color-scheme: dark;
}

/**
 * 深色主题特殊元素调整
 */

/* 标题栏在深色主题下的样式 */
:root.dark-theme #titlebar {
  background-color: var(--bg-titlebar);
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
}

/* 侧边栏在深色主题下的样式 */
:root.dark-theme .sidebar {
  background-color: var(--bg-sidebar);
  border-right: 1px solid rgba(51, 65, 85, 0.5);
}

/* 导航按钮激活状态 */
:root.dark-theme .nav-btn.active {
  background-color: rgba(59, 130, 246, 0.15);
  color: var(--primary);
}

/* 服务按钮选中状态 */
:root.dark-theme .service-btn.selected {
  background-color: rgba(16, 185, 129, 0.15);
  border-color: var(--success);
}

/* 输入框焦点状态 */
:root.dark-theme input:focus,
:root.dark-theme textarea:focus,
:root.dark-theme select:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

/* 进度条 */
:root.dark-theme progress {
  background-color: var(--bg-input);
}

:root.dark-theme progress::-webkit-progress-bar {
  background-color: var(--bg-input);
}

/* 滚动条 */
:root.dark-theme ::-webkit-scrollbar-track {
  background: var(--bg-input);
}

:root.dark-theme ::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.3);
}

:root.dark-theme ::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.5);
}

/* 表格斑马条纹 */
:root.dark-theme table tr:nth-child(even) {
  background-color: rgba(51, 65, 85, 0.3);
}

/* 卡片悬浮效果 */
:root.dark-theme .card:hover {
  box-shadow: var(--shadow-float);
}

/* ===== PrimeVue 组件样式覆盖 - Dark Theme ===== */

/* InputText 组件 */
:root.dark-theme .p-inputtext {
  color: var(--text-main);
  background-color: var(--bg-input);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-inputtext::placeholder {
  color: var(--text-muted);
}

:root.dark-theme .p-inputtext:enabled:hover {
  border-color: var(--primary);
}

:root.dark-theme .p-inputtext:enabled:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

:root.dark-theme .p-inputtext:disabled {
  color: var(--text-disabled);
  background-color: rgba(51, 65, 85, 0.5);
}

/* Textarea 组件 */
:root.dark-theme .p-textarea {
  color: var(--text-main);
  background-color: var(--bg-input);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-textarea::placeholder {
  color: var(--text-muted);
}

:root.dark-theme .p-textarea:enabled:hover {
  border-color: var(--primary);
}

:root.dark-theme .p-textarea:enabled:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

:root.dark-theme .p-textarea:disabled {
  color: var(--text-disabled);
  background-color: rgba(51, 65, 85, 0.5);
}

/* Password 组件 */
:root.dark-theme .p-password .p-password-input {
  color: var(--text-main);
  background-color: var(--bg-input);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-password .p-password-input::placeholder {
  color: var(--text-muted);
}

:root.dark-theme .p-password .p-password-input:enabled:hover {
  border-color: var(--primary);
}

:root.dark-theme .p-password .p-password-input:enabled:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

:root.dark-theme .p-password .p-password-input:disabled {
  color: var(--text-disabled);
}

/* Select 组件 */
:root.dark-theme .p-select {
  color: var(--text-main);
  background-color: var(--bg-input);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-select-label {
  color: var(--text-main);
}

:root.dark-theme .p-select:enabled:hover {
  border-color: var(--primary);
}

:root.dark-theme .p-select:enabled:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

:root.dark-theme .p-select-overlay {
  background-color: var(--bg-card);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-select-option {
  color: var(--text-main);
}

:root.dark-theme .p-select-option:not(.p-select-option-selected):hover {
  background-color: var(--hover-overlay-subtle);
}

:root.dark-theme .p-select-option.p-select-option-selected {
  background-color: rgba(59, 130, 246, 0.2);
  color: var(--primary);
}

/* Checkbox 组件 */
:root.dark-theme .p-checkbox {
  border-color: var(--border-subtle);
}

:root.dark-theme .p-checkbox:hover {
  border-color: var(--primary);
}

:root.dark-theme .p-checkbox.p-checked {
  background-color: var(--primary);
  border-color: var(--primary);
}

:root.dark-theme .p-checkbox-label {
  color: var(--text-main);
}

/* RadioButton 组件 */
:root.dark-theme .p-radiobutton {
  border-color: var(--border-subtle);
}

:root.dark-theme .p-radiobutton:hover {
  border-color: var(--primary);
}

:root.dark-theme .p-radiobutton.p-checked {
  background-color: var(--primary);
  border-color: var(--primary);
}

:root.dark-theme .p-radiobutton-label {
  color: var(--text-main);
}

/* SelectButton 组件 */
:root.dark-theme .p-selectbutton .p-togglebutton {
  color: var(--text-main);
  background-color: var(--bg-input);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-selectbutton .p-togglebutton:hover {
  background-color: var(--hover-overlay-subtle);
}

:root.dark-theme .p-selectbutton .p-togglebutton.p-togglebutton-checked {
  background-color: var(--primary);
  color: var(--text-on-primary);
  border-color: var(--primary);
}

:root.dark-theme .p-selectbutton .p-togglebutton.p-togglebutton-checked .p-togglebutton-content {
  background-color: transparent;
  color: var(--text-on-primary);
}

/* DataTable 组件 */
:root.dark-theme .p-datatable {
  color: var(--text-main);
}

:root.dark-theme .p-datatable .p-datatable-thead > tr > th {
  background-color: var(--bg-card);
  color: var(--text-main);
  border-color: var(--border-subtle);
}

:root.dark-theme .p-datatable .p-datatable-tbody > tr {
  background-color: var(--bg-card);
  color: var(--text-main);
}

:root.dark-theme .p-datatable .p-datatable-tbody > tr:hover {
  background-color: var(--hover-overlay-subtle);
}

:root.dark-theme .p-datatable .p-datatable-tbody > tr > td {
  border-color: var(--border-subtle);
}

/* Dialog 组件 */
:root.dark-theme .p-dialog {
  background-color: var(--bg-card);
  border-color: var(--border-subtle);
  box-shadow: var(--shadow-modal);
}

:root.dark-theme .p-dialog .p-dialog-header {
  background-color: var(--bg-card);
  color: var(--text-main);
  border-bottom: 1px solid var(--border-subtle);
}

:root.dark-theme .p-dialog .p-dialog-content {
  background-color: var(--bg-card);
  color: var(--text-main);
}

:root.dark-theme .p-dialog .p-dialog-footer {
  background-color: var(--bg-card);
  border-top: 1px solid var(--border-subtle);
}

/* Message 组件 */
:root.dark-theme .p-message {
  background-color: var(--bg-card);
  border-color: var(--border-subtle);
  color: var(--text-main);
}

:root.dark-theme .p-message.p-message-info {
  background-color: rgba(59, 130, 246, 0.15);
  border-color: var(--primary);
  color: var(--primary);
}

:root.dark-theme .p-message.p-message-success {
  background-color: rgba(16, 185, 129, 0.15);
  border-color: var(--success);
  color: var(--success);
}

:root.dark-theme .p-message.p-message-warn {
  background-color: rgba(234, 179, 8, 0.15);
  border-color: var(--warning);
  color: var(--warning);
}

:root.dark-theme .p-message.p-message-error {
  background-color: rgba(239, 68, 68, 0.15);
  border-color: var(--error);
  color: var(--error);
}

/* ProgressBar 组件 */
:root.dark-theme .p-progressbar {
  background-color: var(--bg-input);
}

:root.dark-theme .p-progressbar .p-progressbar-value {
  background-color: var(--primary);
}

/* Tag 组件 */
:root.dark-theme .p-tag {
  background-color: var(--primary);
  color: var(--text-on-primary);
}

:root.dark-theme .p-tag.p-tag-success {
  background-color: var(--success);
}

:root.dark-theme .p-tag.p-tag-warning {
  background-color: var(--warning);
}

:root.dark-theme .p-tag.p-tag-danger {
  background-color: var(--error);
}

/* Tooltip 组件 */
:root.dark-theme .p-tooltip .p-tooltip-text {
  background-color: var(--bg-card);
  color: var(--text-main);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-float);
}

/* Toast 组件 */
:root.dark-theme .p-toast .p-toast-message {
  background-color: var(--bg-card);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-float);
}

:root.dark-theme .p-toast .p-toast-message .p-toast-message-content {
  color: var(--text-main);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-info {
  background-color: rgba(59, 130, 246, 0.15);
  border-color: var(--primary);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-info .p-toast-message-content {
  color: var(--primary);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-success {
  background-color: rgba(16, 185, 129, 0.15);
  border-color: var(--success);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-success .p-toast-message-content {
  color: var(--success);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-warn {
  background-color: rgba(234, 179, 8, 0.15);
  border-color: var(--warning);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-warn .p-toast-message-content {
  color: var(--warning);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-error {
  background-color: rgba(239, 68, 68, 0.15);
  border-color: var(--error);
}

:root.dark-theme .p-toast .p-toast-message.p-toast-message-error .p-toast-message-content {
  color: var(--error);
}
